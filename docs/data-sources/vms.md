---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "xenorchestra_vms Data Source - terraform-provider-xenorchestra"
subcategory: ""
description: |-
  Use this data source to filter Xenorchestra VMs by certain criteria (poolid, powerstate or host) for use in other resources.
---

# xenorchestra_vms (Data Source)

Use this data source to filter Xenorchestra VMs by certain criteria (pool_id, power_state or host) for use in other resources.

## Example Usage

```terraform
data "xenorchestra_pool" "pool" {
  name_label = "Your pool"
}

data "xenorchestra_vms" "vms" {
  pool_id = data.xenorchestra_pool.pool.id
  power_state = "Running"
  host = data.xenorchestra_pool.pool.master
}

output "vms_max_memory_map" {
  value = tomap({
  for k, vm in data.xenorchestra_vms.vms.vms : k => vm.memory_max
  })
}
output "vms_length" {
  value = length(data.xenorchestra_vms.vms.vms)
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `pool_id` (String) The ID of the pool the VM belongs to.

### Optional

- `host` (String)
- `power_state` (String) The power state of the vms. (Running, Halted)

### Read-Only

- `id` (String) The ID of this resource.
- `vms` (List of Object) A list of information for all vms found in this pool. (see [below for nested schema](#nestedatt--vms))

<a id="nestedatt--vms"></a>
### Nested Schema for `vms`

Read-Only:

- `affinity_host` (String)
- `auto_poweron` (Boolean)
- `blocked_operations` (Set of String)
- `clone_type` (String)
- `cloud_config` (String)
- `cloud_network_config` (String)
- `core_os` (Boolean)
- `cpu_cap` (Number)
- `cpu_weight` (Number)
- `cpus` (Number)
- `disk` (List of Object) (see [below for nested schema](#nestedobjatt--vms--disk))
- `exp_nested_hvm` (Boolean)
- `high_availability` (String)
- `host` (String)
- `hvm_boot_firmware` (String)
- `id` (String)
- `ipv4_addresses` (List of String)
- `ipv6_addresses` (List of String)
- `memory_max` (Number)
- `name_description` (String)
- `name_label` (String)
- `network` (List of Object) (see [below for nested schema](#nestedobjatt--vms--network))
- `power_state` (String)
- `resource_set` (String)
- `start_delay` (Number)
- `tags` (Set of String)
- `template` (String)
- `vga` (String)
- `videoram` (Number)
- `xenstore` (Map of String)

<a id="nestedobjatt--vms--disk"></a>
### Nested Schema for `vms.disk`

Read-Only:

- `attached` (Boolean)
- `name_description` (String)
- `name_label` (String)
- `position` (String)
- `size` (Number)
- `sr_id` (String)
- `vbd_id` (String)
- `vdi_id` (String)


<a id="nestedobjatt--vms--network"></a>
### Nested Schema for `vms.network`

Read-Only:

- `attached` (Boolean)
- `device` (String)
- `expected_ip_cidr` (String)
- `ipv4_addresses` (List of String)
- `ipv6_addresses` (List of String)
- `mac_address` (String)
- `network_id` (String)
